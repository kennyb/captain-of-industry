# captain-marek

### 2024-07-13 06:22 - programmable-logic-control (PLC)

hi captain marek, last stream someone asked if you guys wanted to implement some kind of logic for the game. you said yes (eventually) and asked for suggestions. initially my idea for it looked something like a spreadsheet. over the last week I've been thinking about it a bit more (cause just a spreadsheet doesn't make actions), so here's my suggestion (this idea can potentially get some serious "feature creep" so be warned):

imagine a panel that can potentially replace the stats bar on the right (important that it stays visible when I click on an entity): from the top of the panel working my way down, there is a heading, followed by an expandable set of columns cells (the wider I expand it, the more cells I get). in each cell I can put text or a formula. a cell can reference another cell (=A3/2) or it can reference an entity and one of its properties (=$1234567890$.Capacity). if I want to reference a machine/cell in my formula, I click on the cell I want to put the value in, then I can click on another cell to get its reference (eg. A3) or I can click on a machine and it'll put in the entity id there (eg $1234567890$), and then have a dropdown/option list of properties that I can reference (capacity - total capacity of this storage, quantity - stored quantity, product_id - stored product id, product_type - stored product type (LOOSE,UNIT,FLUID), etc).
once I've added a few headings and corresponding worksheets, I should be able to see at a glance basic values of my factory (an option to display these values as little graphs like the stats would be cool, but not necessary). these cells and entity references will then be used in the next section (or tab): ACTIONS.
when I click on the [+] button, I'll type in a title ("CITY POOP chlorene") -- which becomes the heading for these actions. there are only two colums in each of these (perhaps with a third enabled checkbox): condition and action. the first one will be the check and perhaps a comment ($1234567890$.Percent < 10 // chlorene storage less then 10%) and then in the other column, the action ($12341234$.Enabled = true // turn on the electrolyzer). -- I'll obviously want to turn the machine back off when the storage is full, so I'll add another row: ($1234567890$.Percent > 90 // chlorene storage greater then 90%) and ($12341234$.Enabled = false // turn off the electrolyzer)
there will probably also need to be a bunch of globals as well: $POPS.Total, $POPS.Available, $POWER.Supply, $POWER.Demand, etc.
and that's it :) I don't recommend making an excel clone, so prolly cell formatting, time series graphs for the cells, cell/entity names (well maybe) aren't necessary; I just want a really simple array of observables where I can put in a custom formula and make actions when conditions are met. anyway, additions to this system could be a cool project for an able-minded programmer in the future though. the whole point of the cells is to generalize/summarise how I look at the values in my factory and allow me to have them available to make actions on.

### loading screen and customize difficulty
